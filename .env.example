# Discable Server Configuration
# Copy this file to .env and configure as needed.
# All values shown are defaults (except commented-out lines).

# ── Core ──────────────────────────────────────────────────
SC_HOST=0.0.0.0
SC_PORT=8443
SC_DATABASE_URL=sqlite://./data/securecomm.db

# ── TLS ───────────────────────────────────────────────────
# For production, provide a certificate and key:
# SC_TLS_CERT=/path/to/cert.pem
# SC_TLS_KEY=/path/to/key.pem
SC_REQUIRE_TLS=false

# mTLS for admin endpoints (optional):
# SC_MTLS_CA=/path/to/ca.pem

# ── Connection Limits ─────────────────────────────────────
SC_MAX_CONNECTIONS=2000
SC_MAX_CONNECTIONS_PER_IP=10
SC_AUTH_TIMEOUT=10

# ── Message Limits ────────────────────────────────────────
SC_MAX_MESSAGE_SIZE=1048576
SC_MAX_OFFLINE_MESSAGES=1000
SC_MESSAGE_TTL=604800

# ── WebSocket ─────────────────────────────────────────────
SC_WS_PING_INTERVAL=30

# ── Security ──────────────────────────────────────────────
# Comma-separated CORS origins (empty = permissive in dev):
# SC_CORS_ORIGINS=https://your-domain.com

# Bearer token for /admin/stats endpoint (unset = endpoint hidden):
# SC_ADMIN_TOKEN=your-secret-token-here

# ── ICE/TURN (Voice & Screen Share) ──────────────────────
# STUN server for NAT traversal:
# SC_ICE_STUN_URL=stun:stun.l.google.com:19302

# TURN server for relay fallback (requires coturn or similar):
# SC_ICE_TURN_URL=turn:turn.example.com:3478

# Shared secret for coturn use-auth-secret credential generation:
# SC_ICE_TURN_SECRET=your-coturn-shared-secret

# TURN credential lifetime in seconds (default 24h):
# SC_ICE_TTL=86400

# ── Logging ───────────────────────────────────────────────
RUST_LOG=securecomm_server=debug,axum=info
